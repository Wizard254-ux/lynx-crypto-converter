# Lynx Crypto Converter - Milestone 1 Implementation

## üöÄ Quick Start Guide

### Step 1: Clone Repository
```bash
# Clone the repository
git clone https://github.com/yourusername/lynx-crypto-converter.git
cd lynx-crypto-converter
```

### Step 2: Run Setup
```bash
# Make setup script executable
chmod +x setup.sh

# Run setup (works on Ubuntu/Linux Mint/WSL)
./setup.sh

# This will:
# - Detect your environment (WSL/Ubuntu/Linux Mint)
# - Check Python/pip/venv
# - Create virtual environment
# - Install all dependencies
# - Create project structure
# - Set up helper scripts
```

### Step 3: Activate Environment
```bash
source venv/bin/activate
```

### Step 4: Test Installation
```bash
# Run demo to verify everything works
cd src
python cli.py demo
```

**Expected Output:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë     LYNX CRYPTO CONVERTER - CLI TOOL                 ‚ïë
‚ïë     Milestone 1: Balance Parser                      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üé¨ DEMO MODE - Creating sample balance file...
‚úÖ Created sample file: demo_balances.docx
üìÑ Parsing demo file...

üìä DEMO RESULTS
+--------------------+------------+
| Metric             | Value      |
+====================+============+
| Total Values Found | 5          |
| Total Sum          | $75,031.75 |
| Minimum Value      | $3,275.25  |
| Maximum Value      | $45,000.00 |
| Average Value      | $15,006.35 |
+--------------------+------------+
```

### Step 5: Start API Server
```bash
# From src/ directory
python app.py

# Or use helper script from project root
cd ..
./commands.sh start
```

**Server Output:**
```
Starting Lynx Crypto Converter API...
Milestone 1: Setup & Validation
 * Running on http://127.0.0.1:5000
 * Running on http://172.17.55.1:5000
```

### Step 6: Test API
Open new terminal:
```bash
# Activate environment
cd ~/lynx-crypto-converter
source venv/bin/activate

# Test health endpoint
curl http://localhost:5000/health

# Test parse endpoint
curl -X POST -F "file=@src/demo_balances.docx" http://localhost:5000/api/parse
```

---

## üìã Overview

Balance file parser that extracts numeric values from .docx files via CLI and REST API.

### What It Does
- ‚úÖ Reads .docx files (Microsoft Word documents)
- ‚úÖ Extracts all numeric values (currency amounts)
- ‚úÖ Handles multiple formats: $5,250.00, ‚Ç¨1.234,56, 1234.56
- ‚úÖ Calculates statistics (total, min, max, average)
- ‚úÖ Provides CLI and API interfaces
- ‚úÖ Logs all operations

### What It Does NOT Do (Yet)
- ‚ùå No cryptocurrency conversion
- ‚ùå No live exchange rates
- ‚ùå No wallet integration
- ‚ùå No PDF support (only .docx)
- ‚ùå No database storage

---

## üèóÔ∏è Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Input File     ‚îÇ
‚îÇ  (.docx only)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Parser Module  ‚îÇ
‚îÇ  (parser.py)    ‚îÇ
‚îÇ  - Extract nums ‚îÇ
‚îÇ  - Validate     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚ñº         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CLI   ‚îÇ ‚îÇ  API   ‚îÇ
‚îÇ (cli.py‚îÇ ‚îÇ(app.py)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ         ‚îÇ
    ‚ñº         ‚ñº
  Table     JSON
  Output    Response
```

---

## üìÇ Repository Structure

```
lynx-crypto-converter/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ parser.py           # ‚úÖ Core parsing logic (in repo)
‚îÇ   ‚îú‚îÄ‚îÄ app.py              # ‚úÖ Flask API server (in repo)
‚îÇ   ‚îî‚îÄ‚îÄ cli.py              # ‚úÖ CLI tool (in repo)
‚îú‚îÄ‚îÄ setup.sh                # ‚úÖ Universal setup script (in repo)
‚îú‚îÄ‚îÄ start.sh                # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ commands.sh             # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ test_api.sh             # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ requirements.txt        # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ README.md               # ‚úÖ Main documentation (in repo)
‚îú‚îÄ‚îÄ .gitignore              # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ .env.example            # ‚öôÔ∏è Generated by setup.sh
‚îú‚îÄ‚îÄ uploads/                # üìÅ Created by setup.sh (ignored in git)
‚îú‚îÄ‚îÄ logs/                   # üìÅ Created by setup.sh (ignored in git)
‚îú‚îÄ‚îÄ data/sample/            # üìÅ Created by setup.sh (ignored in git)
‚îú‚îÄ‚îÄ tests/                  # üìÅ Created by setup.sh
‚îú‚îÄ‚îÄ docs/                   # üìÅ Created by setup.sh
‚îî‚îÄ‚îÄ venv/                   # üö´ Not in repo (created locally)
```

**Files in GitHub:**
- ‚úÖ `src/parser.py`
- ‚úÖ `src/app.py`
- ‚úÖ `src/cli.py`
- ‚úÖ `setup.sh`
- ‚úÖ `README.md`
- ‚úÖ `.gitignore` template
- ‚úÖ Documentation

**Generated Locally:**
- Virtual environment (`venv/`)
- Helper scripts (`start.sh`, `commands.sh`, etc.)
- Logs and uploads folders
- Requirements file

---

## üì¶ Components

### 1. parser.py - Balance Parser Module

**Purpose:** Extract numeric values from .docx files

**Key Functions:**
- `BalanceParser(file_path)` - Initialize parser with file
- `parse()` - Extract all numeric values
- `get_summary()` - Calculate statistics
- `get_total()` - Sum all values

**Supported Formats:**
- `$5,250.00` - US format with dollar sign
- `‚Ç¨1.234,56` - European format
- `1234.56` - Plain numbers
- `12,800.50` - Numbers with commas

**Output Structure:**
```python
{
    'value': 5250.00,              # Float value
    'value_decimal': '5250.00',    # String for precision
    'currency_symbol': '$',         # Detected symbol or None
    'original_text': '$5,250.00',  # Original text
    'context': 'Checking Account: $5,250.00',  # Surrounding text
    'line_ref': 3                  # Line/position reference
}
```

---

### 2. app.py - Flask API Server

**Purpose:** REST API for file upload and parsing

**Endpoints:**

#### GET /health
Health check endpoint
```bash
curl http://localhost:5000/health
```
**Response:**
```json
{
  "status": "healthy",
  "service": "Lynx Crypto Converter",
  "milestone": "1 - Setup & Validation",
  "timestamp": "2024-11-02T11:57:05.714Z"
}
```

#### POST /api/parse
Parse balance file and return all extracted values
```bash
curl -X POST -F "file=@balances.docx" http://localhost:5000/api/parse
```
**Response:**
```json
{
  "success": true,
  "message": "File parsed successfully",
  "data": {
    "balances": [
      {
        "value": 5250.00,
        "currency_symbol": "$",
        "original_text": "$5,250.00",
        "context": "Checking Account: $5,250.00",
        "line_ref": 1
      }
    ],
    "summary": {
      "total_values_found": 5,
      "total_sum": 75031.75,
      "min_value": 3275.25,
      "max_value": 45000.00,
      "avg_value": 15006.35
    }
  },
  "metadata": {
    "filename": "balances.docx",
    "upload_time": "20241102_115705",
    "file_size": 12345
  }
}
```

#### POST /api/validate
Quick validation without detailed parsing
```bash
curl -X POST -F "file=@balances.docx" http://localhost:5000/api/validate
```
**Response:**
```json
{
  "valid": true,
  "summary": {
    "total_values_found": 5,
    "total_sum": 75031.75
  },
  "message": "File is valid and can be parsed"
}
```

**Error Responses:**
- `400` - Invalid file type or no file provided
- `404` - File not found
- `413` - File too large (>10MB)
- `500` - Processing error

**Configuration:**
- Max file size: 10MB
- Allowed extensions: .docx, .dox
- Upload folder: `uploads/`
- Log file: `logs/app.log`

---

### 3. cli.py - Command Line Interface

**Purpose:** Parse files directly from terminal

**Commands:**

#### demo
Create sample file and parse it
```bash
python cli.py demo
```
**Output:**
- Creates `demo_balances.docx`
- Parses and displays results in table format
- Shows summary statistics

#### parse
Parse a specific balance file
```bash
python cli.py parse balances.docx
python cli.py parse balances.docx --detailed
python cli.py parse balances.docx --output results.json
```
**Options:**
- `--detailed` or `-d` - Show full balance list
- `--output <file>` or `-o <file>` - Export to JSON

**Output:**
```
üìä SUMMARY STATISTICS
+--------------------+------------+
| Metric             | Value      |
+====================+============+
| Total Values Found | 5          |
| Total Sum          | $75,031.75 |
| Minimum Value      | $3,275.25  |
| Maximum Value      | $45,000.00 |
| Average Value      | $15,006.35 |
+--------------------+------------+
```

#### validate
Quick file validation check
```bash
python cli.py validate balances.docx
```
**Output:**
```
‚úÖ File is valid!
   Found 5 balance value(s)
   Total amount: $75,031.75
```

---

## üíª Usage Examples

### Example 1: Quick Demo
```bash
source venv/bin/activate
cd src
python cli.py demo
```

### Example 2: Parse Your Own File
```bash
# Copy your file to project
cp /path/to/my_balances.docx ~/lynx-crypto-converter/

# Parse it
cd ~/lynx-crypto-converter/src
python cli.py parse ../my_balances.docx --detailed
```

### Example 3: API Usage
```bash
# Terminal 1: Start server
cd ~/lynx-crypto-converter/src
python app.py

# Terminal 2: Upload file
curl -X POST \
  -F "file=@balances.docx" \
  http://localhost:5000/api/parse \
  | python -m json.tool
```

### Example 4: Export to JSON
```bash
python cli.py parse balances.docx --output results.json
cat results.json
```

### Example 5: Using Helper Scripts
```bash
# From project root
./commands.sh demo              # Run demo
./commands.sh start             # Start API
./commands.sh cli parse file.docx  # Parse file
./commands.sh test              # Test API
```

---

## ‚öôÔ∏è Configuration

### Environment Variables (.env)
```bash
FLASK_ENV=development
FLASK_DEBUG=True
SECRET_KEY=change-this-in-production
MAX_FILE_SIZE=10485760
UPLOAD_FOLDER=uploads
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
```

### File Upload Limits
- Maximum file size: 10MB
- Allowed extensions: .docx, .dox
- Files stored in: `uploads/`

### Logging
- Log level: INFO
- Log file: `logs/app.log`
- Console output: Enabled
- Format: `%(asctime)s - %(name)s - %(levelname)s - %(message)s`

---

## üß™ Testing

### CLI Testing
```bash
# Run demo
python cli.py demo

# Test with sample file
python cli.py parse demo_balances.docx --detailed
```

### API Testing
```bash
# Start server
python app.py

# In new terminal:
./test_api.sh
```

### Manual API Tests
```bash
# Health check
curl http://localhost:5000/health

# Parse file
curl -X POST -F "file=@test.docx" http://localhost:5000/api/parse

# Validate file
curl -X POST -F "file=@test.docx" http://localhost:5000/api/validate

# Test error handling
curl -X POST http://localhost:5000/api/parse  # No file
curl -X POST -F "file=@test.txt" http://localhost:5000/api/parse  # Wrong type
```

---

## üöÄ Next Steps: Milestone 2

### Required Assets
1. **Wallet Addresses:**
   - BTC address (e.g., 1A2b3C4d5E6f...)
   - ETH address (e.g., 0xAbC123...)
   - USDT address (e.g., TAbC123...)
   - SOL address (optional, e.g., SoL123...)

2. **API Keys:**
   - CoinGecko API key (free): https://www.coingecko.com/en/api
   - OR Binance API key: https://www.binance.com/en/my/settings/api-management

3. **Sample Files:**
   - 3-5 real balance .docx files for testing

### Milestone 2 Features
- ‚ú® Live cryptocurrency rates (BTC, ETH, USDT, SOL)
- ‚ú® Currency conversion logic
- ‚ú® Wallet address integration
- ‚ú® Rate caching and fallback
- ‚ú® Conversion history
- ‚ú® Multiple currency support

---

## üìñ Quick Reference Card

```bash
# Clone & Setup
git clone https://github.com/yourusername/lynx-crypto-converter.git
cd lynx-crypto-converter
./setup.sh
source venv/bin/activate

# CLI Commands
python cli.py demo                      # Run demo
python cli.py parse file.docx           # Parse file
python cli.py parse file.docx -d        # Detailed
python cli.py parse file.docx -o out.json  # Export
python cli.py validate file.docx        # Validate

# API Commands
python app.py                           # Start server
curl http://localhost:5000/health       # Health check
curl -X POST -F "file=@file.docx" http://localhost:5000/api/parse

# Helper Scripts
./commands.sh start                     # Start API
./commands.sh demo                      # Run demo
./commands.sh test                      # Test API
./commands.sh cli parse file.docx       # CLI parse

# Maintenance
deactivate                              # Exit venv
source venv/bin/activate                # Enter venv
pip install -r requirements.txt         # Reinstall deps
tail -f logs/app.log                    # Watch logs
```

---

## üìù Support & Logs

### Check Logs
```bash
# View API logs
tail -f logs/app.log

# View recent errors
grep ERROR logs/app.log

# View all activity
cat logs/app.log
```

### Debug Mode
```bash
# Enable debug mode
export FLASK_DEBUG=True
python app.py
```

### Get System Info
```bash
# Python version
python --version

# Installed packages
pip list

# Disk space
df -h

# Environment
env | grep FLASK
```

---

## üìÑ License & Credits

**Project:** Lynx Crypto Converter  
**Milestone:** 1 - Setup & Validation  
**Status:** Complete ‚úÖ  
**Date:** November 2024  

---

**End of Milestone 1 Documentation**
